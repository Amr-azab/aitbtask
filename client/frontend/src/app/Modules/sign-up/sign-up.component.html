<header class="container custom-header text-center">
  <div class="title-container">
    <div class="logo-image"></div>
    <div class="title-text">
      <h1 class="welcome-text">Welcome to Customer Service Management</h1>
      <p>Sign up to request services or get help.</p>
    </div>
  </div>
  <hr />
</header>

<section class="contact container my-5">
  <div class="row">
    <div class="col-md-6">
      <form [formGroup]="contactForm" (ngSubmit)="onUserSubmit()">
        <!-- Username -->
        <div class="form-group p-2">
          <label for="username">Username</label>
          <input
            type="text"
            name="username"
            id="username"
            required
            formControlName="username"
            class="form-control mt-2"
          />
          <div
            *ngIf="username?.invalid && (username?.touched || username?.dirty)"
            class="error-message"
          >
            Username is Required
          </div>
        </div>

        <!-- Email -->
        <div class="form-group p-2">
          <label for="email">Email</label>
          <div class="input-container">
            <input
              type="email"
              name="email"
              id="email"
              required
              formControlName="email"
              class="form-control mt-2"
              [class.invalid]="
                email?.invalid && (email?.touched || email?.dirty)
              "
            />
            <span
              *ngIf="email?.invalid && (email?.touched || email?.dirty)"
              class="error-icon"
              >!</span
            >
          </div>
          <div
            *ngIf="email?.invalid && (email?.touched || email?.dirty)"
            class="error-message"
          >
            <div *ngIf="email?.errors?.['required']">Email is Required</div>
            <div *ngIf="email?.errors?.['email']">
              Please enter your email address in format:
              yourname&#64;example.com
            </div>
          </div>
        </div>

        <!-- Password -->
        <div class="form-group p-2">
          <label for="password">Password</label>
          <input
            type="password"
            name="password"
            id="password"
            required
            formControlName="password"
            class="form-control mt-2"
          />
          <div
            *ngIf="password?.invalid && (password?.touched || password?.dirty)"
            class="error-message"
          >
            Password is Required
          </div>
        </div>

        <!-- Phone Number -->
        <div class="form-group p-2">
          <label for="phoneNumber">Phone Number</label>
          <input
            type="tel"
            name="phoneNumber"
            id="phoneNumber"
            required
            formControlName="phoneNumber"
            class="form-control mt-2"
          />
          <!-- Show required error message if phone number is empty -->
          <div
            *ngIf="
              phoneNumber?.hasError('required') &&
              (phoneNumber?.touched || phoneNumber?.dirty)
            "
            class="error-message"
          >
            Phone Number is Required
          </div>

          <!-- Show length error message if phone number is not exactly 11 digits -->
          <div
            *ngIf="
              phoneNumber?.hasError('lengthInvalid') &&
              (phoneNumber?.touched || phoneNumber?.dirty)
            "
            class="error-message"
          >
            Phone number must be exactly 11 digits long.
          </div>

          <!-- Show start with zero error message if phone number doesn't start with 0 -->
          <div
            *ngIf="
              phoneNumber?.hasError('startWithZero') &&
              (phoneNumber?.touched || phoneNumber?.dirty)
            "
            class="error-message"
          >
            Phone number must start with "0".
          </div>
        </div>

        <!-- Role -->
        <div class="form-group p-2">
          <label for="role">Role</label>
          <select
            name="role"
            id="role"
            required
            formControlName="role"
            class="form-control mt-2"
          >
            <option value="">Select Role</option>
            <option value="Support">Support</option>
            <option value="Customer">Customer</option>
          </select>
          <div
            *ngIf="role?.invalid && (role?.touched || role?.dirty)"
            class="error-message"
          >
            Role is Required
          </div>
        </div>

        <!-- Submit Button -->
        <input
          type="submit"
          value="Sign Up"
          class="btn btn-primary btn-block mt-2"
        />
      </form>

      <!-- Sign In Link -->
      <div class="signin-link mt-3">
        Already have an account? <a routerLink="/signin">Sign In</a>
      </div>
    </div>

    <!-- Sign Up Image -->
    <div class="col-md-6">
      <div class="signup-image"></div>
    </div>
  </div>
</section>
